{
  "RoleName":"SYFPlatformGuardianRole",
  "AssumeRolePolicyDocument":{
    "Version":"2012-10-17",
    "Statement":[{
      "Effect":"Allow",
      "Principal":{"AWS":"arn:aws:iam::111122223333:root"},
      "Action":"sts:AssumeRole",
      "Condition":{"StringEquals":{"aws:PrincipalTag/Role":"PlatformGuardian"}}
    }]
  },
  "Description":"Full-admin role for infra, Glue, Iceberg, LakeFormation, S3, EC2, and Terraform/SSM management",
  "Policies":[
    {
      "PolicyName":"PlatformGuardian-FullS3",
      "PolicyDocument":{
        "Version":"2012-10-17",
        "Statement":[
          {
            "Sid":"FullS3OnNexus",
            "Effect":"Allow",
            "Action":"s3:*",
            "Resource":["arn:aws:s3:::nexus","arn:aws:s3:::nexus/*"]
          },
          {
            "Sid":"CreateDeleteBuckets",
            "Effect":"Allow",
            "Action":["s3:CreateBucket","s3:DeleteBucket","s3:ListAllMyBuckets"],
            "Resource":"*"
          }
        ]
      }
    },
    {
      "PolicyName":"PlatformGuardian-Glue-Full",
      "PolicyDocument":{
        "Version":"2012-10-17",
        "Statement":[
          {
            "Effect":"Allow",
            "Action":"glue:*",
            "Resource":"*"
          }
        ]
      }
    },
    {
      "PolicyName":"PlatformGuardian-IcebergLakeFormation",
      "PolicyDocument":{
        "Version":"2012-10-17",
        "Statement":[
          {
            "Sid":"LakeFormationAdmin",
            "Effect":"Allow",
            "Action":[
              "lakeformation:*",
              "glue:CreateDatabase","glue:UpdateDatabase"
            ],
            "Resource":"*"
          }
        ]
      }
    },
    {
      "PolicyName":"PlatformGuardian-EC2EKSIAM",
      "PolicyDocument":{
        "Version":"2012-10-17",
        "Statement":[
          {
            "Sid":"EC2EKSFullManage",
            "Effect":"Allow",
            "Action":[
              "ec2:*","eks:*","autoscaling:*","iam:PassRole",
              "iam:CreateRole","iam:AttachRolePolicy"
            ],
            "Resource":"*"
          }
        ]
      }
    },
    {
      "PolicyName":"PlatformGuardian-CloudWatchSSM",
      "PolicyDocument":{
        "Version":"2012-10-17",
        "Statement":[{
          "Effect":"Allow",
          "Action":[
            "cloudwatch:*","logs:*","ssm:*"
          ],
          "Resource":"*"
        }]
      }
    }
  ]
}
